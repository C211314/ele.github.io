(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-304d1d51"],{"09d7":function(s,t,e){"use strict";var i=e("f263"),a=e.n(i);a.a},2249:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"orderWarp"},[e("header",{attrs:{id:"head_top"}},[e("section",{staticClass:"head_goback"},[e("router-link",{attrs:{to:"/shop"}},[e("i",{staticClass:"el-icon-arrow-left"})])],1),s._m(0),e("router-link",{attrs:{to:""}},[e("i",{staticClass:"el-icon-user-solid",staticStyle:{"font-size":".8rem"}})])],1),e("router-link",{staticClass:"address_container",attrs:{to:"/chooseAddress"}},[e("div",{staticClass:"address_empty_left"},[e("i",{staticClass:"el-icon-location-outline"}),e("div",{staticClass:"address_detail_container"},[e("section",{staticClass:"address_section1"},[e("span",[s._v(s._s(s.name))]),e("span",[s._v("先生")]),e("span",[s._v(s._s(s.phone))])]),e("section",{staticClass:"address_section2"},[e("span",{staticStyle:{"background-color":"rgb(76, 217, 100)"}},[s._v(s._s(s.tag))]),e("p",[s._v(s._s(s.address))])])])]),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":".8rem"}})]),e("section",{staticClass:"data"},[e("p",{staticClass:"deliver_text"},[s._v("送达时间")]),e("section",{staticClass:"deliver_time"},[e("p",[s._v("尽快送达 | 预计 "+s._s(s.dingdanArr.delivery_reach_time))]),e("p",[s._v("蜂鸟专送")])])]),e("section",{staticClass:"pay_way"},[e("div",{staticClass:"header_style",on:{click:s.fuBtn}},[e("span",[s._v("支付方式")]),s._m(1)]),s._m(2)]),e("section",{staticClass:"food_list"},[s._m(3),e("ul",{staticClass:"food_list_ul"},s._l(s.carArr,(function(t){return e("li",{key:t.id,staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v(s._s(t.name))]),e("div",{staticClass:"num_price"},[e("span",[s._v("x "+s._s(t.num))]),e("span",[s._v("¥"+s._s(t.price))])])])})),0),e("div",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v("餐盒")]),e("div",{staticClass:"num_price"},[e("span"),e("span",[s._v("¥ "+s._s(s.peiPrice))])])]),e("div",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v("配送费")]),e("div",{staticClass:"num_price"},[e("span"),e("span",[s._v("¥ "+s._s(s.canPrice))])])]),e("div",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v("订单 ¥"+s._s(s.peiPrice+s.canPrice+ +s.allPrice))]),e("div",{staticClass:"num_price"},[e("span",{staticStyle:{color:"#f60"}},[s._v("待支付¥"+s._s(s.peiPrice+s.canPrice+ +s.allPrice))])])])]),e("section",{staticClass:"pay_way"},[e("div",{staticClass:"header_style",on:{click:s.bei_zhu_Btn}},[e("span",[s._v("订单备注")]),s._m(4)]),e("section",{staticClass:"hongbo",on:{click:s.hongBtn}},[e("span",[s._v("发票抬头")]),s._m(5)])]),e("section",{staticClass:"confrim_order"},[e("p",[s._v("待支付 ¥"+s._s(s.peiPrice+s.canPrice+ +s.allPrice))]),e("p",{on:{click:s.que_ren_xia_dan}},[s._v("确认下单")])]),s.isShowFu?e("div",{staticClass:"choose_type_Container"},[e("div",[s._v("支付方式")]),e("ul",[s._m(6),e("li",{staticClass:"choose"},[e("span",{staticStyle:{color:"#333"}},[s._v("在线支付")]),e("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-size":".8rem",color:"#4cd964"},on:{click:s.fu_xuan_Btn}})])])]):s._e()],1)},a=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"title_head "},[e("span",[s._v("确认订单")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"more_type"},[e("span",[s._v("在线支付")]),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":".6rem"}})])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"hongbo"},[e("span",[s._v("红包")]),e("span",[s._v("暂时只在饿了么 APP 中支持")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"food_list_div1"},[e("img",{attrs:{src:"",alt:""}}),e("span",[s._v("叽叽喳喳")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"more_type"},[e("span",[s._v("口味、偏好等")]),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":".6rem"}})])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"more_type"},[e("span",[s._v("不需要开发票")]),e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":".6rem"}})])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("li",[e("span",{staticStyle:{color:"#ccc"}},[s._v(" 货到付款 "),e("span",[s._v("（商家不支持货到付款）")])]),e("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-size":".8rem"}})])}],r=(e("4160"),e("b0c0"),e("b64b"),e("159b"),e("5530")),c=(e("2f62"),{name:"ConfiemOrder",data:function(){return{isShowFu:!1,userList:[],geohash:"",shopCarts:null,carArr:[],shopId:"",entities:[],dingdanArr:[],peiPrice:"",canPrice:"",allPrice:"",gou_id:"",addInfo:[],addressID:0,name:"",phone:"",address:"",tag:""}},created:function(){var s=this;this.allPrice=localStorage.getItem("allPrice"),this.$store.commit("init_buy_cart"),this.shopId=localStorage.getItem("shopId"),console.log(this.shopId),this.userId=localStorage.getItem("user_id"),this.addressID=0,this.addressID=localStorage.getItem("addressID"),this.axios.get("/v1/users/"+this.userId+"/addresses").then((function(t){console.log("hahah",t),s.userList=t,s.name=s.userList[s.addressID].name,s.phone=s.userList[s.addressID].phone,s.address=s.userList[s.addressID].address,s.tag=s.userList[s.addressID].tag})).catch((function(s){})),this.geohash=localStorage.getItem("geohashId"),this.shopCarts=this.$store.state.cartList,Object.keys(this.shopCarts).forEach((function(t){Object.keys(s.shopCarts[t]).forEach((function(e){Object.keys(s.shopCarts[t][e]).forEach((function(i){Object.keys(s.shopCarts[t][e][i]).forEach((function(a){var c=s.shopCarts[t][e][i][a];console.log(c);var n=Object(r["a"])({},c,{category_id:e,item_id:i,food_id:a,shopId:t});n.shopId==s.shopId&&s.carArr.push(n)}))}))}))})),console.log(this.carArr);for(var t=0;t<this.carArr.length;t++){var e=[{attrs:[],extra:{},id:this.carArr[t].id,name:this.carArr[t].name,packing_fee:this.carArr[t].packing_fee,price:this.carArr[t].price,quantity:this.carArr[t].num,sku_id:this.carArr[t].sku_id,specs:this.carArr[t].specs,stock:this.carArr[t].stock}];this.entities.push(e)}console.log(this.entities),localStorage.setItem("entitiesArr",JSON.stringify(this.entities)),this.axios.post("/v1/carts/checkout",{restaurant_id:this.shopId,geohash:this.geohash,entities:this.entities}).then((function(t){console.log(t),s.dingdanArr=t,console.log(s.dingdanArr.cart.extra[0].price),s.peiPrice=s.dingdanArr.cart.extra[0].price,console.log(s.dingdanArr.cart.deliver_amount),s.canPrice=s.dingdanArr.cart.deliver_amount,localStorage.setItem("gou_wu_che_id",t.id),s.$store.state.gou_wu_che_id("res.id")})).catch((function(s){}))},methods:{fuBtn:function(){this.isShowFu=!0},fu_xuan_Btn:function(){this.isShowFu=!1},bei_zhu_Btn:function(){this.$router.push({path:"/remark"})},hongBtn:function(){this.$router.push({path:"/invoice"})},que_ren_xia_dan:function(){localStorage.setItem("quan_price",this.peiPrice+this.canPrice+ +this.allPrice),this.$router.push({path:"/payment"})}}}),n=c,o=(e("09d7"),e("2877")),l=Object(o["a"])(n,i,a,!1,null,"237ab572",null);t["default"]=l.exports},f263:function(s,t,e){}}]);
//# sourceMappingURL=chunk-304d1d51.beef437c.js.map
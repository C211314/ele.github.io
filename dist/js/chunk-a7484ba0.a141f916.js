(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7484ba0"],{"2d3b":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"searchWarp"},[e("header",[e("router-link",{attrs:{to:"/home"}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("div",[t._v("搜索")])],1),e("form",{staticClass:"search_form",attrs:{action:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],staticClass:"search_input",attrs:{type:"text",placeholder:"请输入商家或美食名称"},domProps:{value:t.search_value},on:{input:function(s){s.target.composing||(t.search_value=s.target.value)}}}),e("input",{staticClass:"search_submit",attrs:{type:"submit",placeholder:"提交"},on:{click:t.search_Btn}})]),t.isShow1?e("section",{staticClass:"search_history"},[e("h4",[t._v("商家")]),e("ul",t._l(t.searchArr,(function(s){return e("li",{key:s.id,staticClass:"history_list"},[e("section",{staticClass:"item_left"},[e("img",{staticClass:"restaurant_img",attrs:{src:"https://elm.cangdu.org/img/"+s.image_path,alt:""}})]),e("section",{staticClass:"item_right"},[e("div",{staticClass:"item_right_text"},[e("p",[e("span",[t._v(t._s(s.name))]),e("span",[t._v("支付")])]),e("p",[t._v("月售"+t._s(s.recent_order_num))]),e("p",[t._v(t._s(s.float_minimum_order_amount)+"元起送/距离"+t._s(s.distance))])]),e("ul",{staticClass:"item_right_detail"})])])})),0),t.isShow2?e("section",{staticClass:"search_history"},[t.isShowHistoryHeader?e("h4",[t._v("搜索历史")]):t._e(),e("ul",t._l(t.hisArr,(function(s,a){return e("li",{key:a,staticClass:"history_list"},[e("span",{staticClass:"history_text ellipsis"},[t._v(t._s(s.index))]),e("i",{staticClass:"el-icon-close",staticStyle:{width:"1rem",height:"1rem"},on:{click:t.qingBtn}})])})),0)]):t._e(),t.isShowClearBtn?e("footer",{staticClass:"clear_history",on:{click:t.clearAllPlace}},[t._v("清空搜索历史")]):t._e()]):t._e(),e("div",{staticClass:"footer"},[e("router-link",{attrs:{to:"/msite"}},[e("i",{staticClass:"el-icon-eleme icon_style"}),e("span",[t._v("外卖")])]),e("router-link",{attrs:{to:"/search"}},[e("i",{staticClass:"el-icon-discover icon_style"}),e("span",[t._v("搜索")])]),e("router-link",{attrs:{to:""}},[e("i",{staticClass:"el-icon-s-fold icon_style"}),e("span",[t._v("订单")])]),e("router-link",{attrs:{to:"/profile"}},[e("i",{staticClass:"el-icon-s-custom icon_style"}),e("span",[t._v("我的")])])],1)])},i=[],r={name:"Search",data:function(){return{search_value:"",searchArr:[],isShow1:!1,isShow2:!1,isShowHistoryHeader:!0,isShowClearBtn:!1,hisArr:[]}},created:function(){localStorage.getItem("searchHistory")&&(this.cateArr=JSON.parse(localStorage.getItem("searchHistory")),this.isShowClearBtn=!0)},methods:{search_Btn:function(){var t=this;if(this.axios.get("/v4/restaurants",{params:{geohash:localStorage.getItem("geohashId"),keyword:this.search_value}}).then((function(s){console.log(s),t.searchArr=s,t.isShow1=!0,t.isShowClearBtn=!1})).catch((function(t){})),localStorage.getItem("searchHistory")){var s=JSON.parse(localStorage.getItem("searchHistory"));s.push(this.search_value),localStorage.setItem("searchHistory",JSON.stringify(s))}else{var e=[];e.push(this.search_value),localStorage.setItem("searchHistory",JSON.stringify(e))}},clearAllPlace:function(){localStorage.removeItem("searchHistory"),this.searchArr=[],this.isShowClearBtn=!1}}},o=r,c=(e("4525"),e("2877")),l=Object(c["a"])(o,a,i,!1,null,"61f784a1",null);s["default"]=l.exports},4525:function(t,s,e){"use strict";var a=e("62d4"),i=e.n(a);i.a},"62d4":function(t,s,e){}}]);
//# sourceMappingURL=chunk-a7484ba0.a141f916.js.map